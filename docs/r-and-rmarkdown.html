<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Topic 3 R and RMarkdown | Expressing Analyses Well with Literate Computing</title>
  <meta name="description" content="How to write an analysis for reading by others." />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="Topic 3 R and RMarkdown | Expressing Analyses Well with Literate Computing" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="How to write an analysis for reading by others." />
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Topic 3 R and RMarkdown | Expressing Analyses Well with Literate Computing" />
  
  <meta name="twitter:description" content="How to write an analysis for reading by others." />
  

<meta name="author" content="Dan MacLean" />


<meta name="date" content="2021-04-20" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="motivation.html"/>
<link rel="next" href="python-and-jupyter-notebooks.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>



<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Literate Computing</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Setting up</a><ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#prerequisites"><i class="fa fa-check"></i><b>1.1</b> Prerequisites</a><ul>
<li class="chapter" data-level="1.1.1" data-path="index.html"><a href="index.html#knowledge-prerequisites"><i class="fa fa-check"></i><b>1.1.1</b> Knowledge prerequisites</a></li>
<li class="chapter" data-level="1.1.2" data-path="index.html"><a href="index.html#software-prerequisites"><i class="fa fa-check"></i><b>1.1.2</b> Software prerequisites</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#installing-r"><i class="fa fa-check"></i><b>1.2</b> Installing R</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#installing-rstudio"><i class="fa fa-check"></i><b>1.3</b> Installing RStudio</a></li>
<li class="chapter" data-level="1.4" data-path="index.html"><a href="index.html#installing-r-packages-in-rstudio"><i class="fa fa-check"></i><b>1.4</b> Installing R packages in RStudio</a><ul>
<li class="chapter" data-level="1.4.1" data-path="index.html"><a href="index.html#standard-packages"><i class="fa fa-check"></i><b>1.4.1</b> Standard packages</a></li>
</ul></li>
<li class="chapter" data-level="1.5" data-path="index.html"><a href="index.html#installing-python-3-with-anaconda"><i class="fa fa-check"></i><b>1.5</b> Installing Python 3 with Anaconda</a><ul>
<li class="chapter" data-level="1.5.1" data-path="index.html"><a href="index.html#note-for-macos-users"><i class="fa fa-check"></i><b>1.5.1</b> Note for macOS users</a></li>
<li class="chapter" data-level="1.5.2" data-path="index.html"><a href="index.html#note-for-windows-users"><i class="fa fa-check"></i><b>1.5.2</b> Note for Windows users</a></li>
<li class="chapter" data-level="1.5.3" data-path="index.html"><a href="index.html#note-for-linux-users"><i class="fa fa-check"></i><b>1.5.3</b> Note for Linux Users</a></li>
</ul></li>
<li class="chapter" data-level="1.6" data-path="index.html"><a href="index.html#starting-a-jupyter-notebook"><i class="fa fa-check"></i><b>1.6</b> Starting a Jupyter Notebook</a><ul>
<li class="chapter" data-level="1.6.1" data-path="index.html"><a href="index.html#macos"><i class="fa fa-check"></i><b>1.6.1</b> macOS</a></li>
<li class="chapter" data-level="1.6.2" data-path="index.html"><a href="index.html#windows"><i class="fa fa-check"></i><b>1.6.2</b> Windows</a></li>
<li class="chapter" data-level="1.6.3" data-path="index.html"><a href="index.html#linux"><i class="fa fa-check"></i><b>1.6.3</b> Linux</a></li>
</ul></li>
<li class="chapter" data-level="1.7" data-path="index.html"><a href="index.html#installing-python-packages-with-conda"><i class="fa fa-check"></i><b>1.7</b> Installing Python Packages with <code>conda</code></a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="motivation.html"><a href="motivation.html"><i class="fa fa-check"></i><b>2</b> Motivation</a><ul>
<li class="chapter" data-level="2.1" data-path="motivation.html"><a href="motivation.html#if-we-didnt-have-to-do-it-over-and-over-it-wouldnt-be-called-re-search."><i class="fa fa-check"></i><b>2.1</b> If we didn’t have to do it over and over, it wouldn’t be called <em>re</em>-search.</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="r-and-rmarkdown.html"><a href="r-and-rmarkdown.html"><i class="fa fa-check"></i><b>3</b> R and RMarkdown</a><ul>
<li class="chapter" data-level="3.1" data-path="r-and-rmarkdown.html"><a href="r-and-rmarkdown.html#about-this-chapter"><i class="fa fa-check"></i><b>3.1</b> About this chapter</a></li>
<li class="chapter" data-level="3.2" data-path="r-and-rmarkdown.html"><a href="r-and-rmarkdown.html#markdown"><i class="fa fa-check"></i><b>3.2</b> Markdown</a><ul>
<li class="chapter" data-level="3.2.1" data-path="r-and-rmarkdown.html"><a href="r-and-rmarkdown.html#basic-markdown-tags"><i class="fa fa-check"></i><b>3.2.1</b> Basic markdown tags</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="r-and-rmarkdown.html"><a href="r-and-rmarkdown.html#r-markdown"><i class="fa fa-check"></i><b>3.3</b> R Markdown</a><ul>
<li class="chapter" data-level="3.3.1" data-path="r-and-rmarkdown.html"><a href="r-and-rmarkdown.html#using-r-markdown-in-rstudio"><i class="fa fa-check"></i><b>3.3.1</b> Using R Markdown in RStudio</a></li>
<li class="chapter" data-level="3.3.2" data-path="r-and-rmarkdown.html"><a href="r-and-rmarkdown.html#conclusion"><i class="fa fa-check"></i><b>3.3.2</b> Conclusion</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="python-and-jupyter-notebooks.html"><a href="python-and-jupyter-notebooks.html"><i class="fa fa-check"></i><b>4</b> Python and Jupyter Notebooks</a><ul>
<li class="chapter" data-level="4.1" data-path="python-and-jupyter-notebooks.html"><a href="python-and-jupyter-notebooks.html#about-this-chapter-1"><i class="fa fa-check"></i><b>4.1</b> About this chapter</a></li>
<li class="chapter" data-level="4.2" data-path="python-and-jupyter-notebooks.html"><a href="python-and-jupyter-notebooks.html#jupyter-notebooks"><i class="fa fa-check"></i><b>4.2</b> Jupyter Notebooks</a></li>
<li class="chapter" data-level="4.3" data-path="python-and-jupyter-notebooks.html"><a href="python-and-jupyter-notebooks.html#trying-out-jupyter-on-the-web"><i class="fa fa-check"></i><b>4.3</b> Trying Out Jupyter on The Web</a></li>
<li class="chapter" data-level="4.4" data-path="python-and-jupyter-notebooks.html"><a href="python-and-jupyter-notebooks.html#starting-jupyter"><i class="fa fa-check"></i><b>4.4</b> Starting Jupyter</a><ul>
<li class="chapter" data-level="4.4.1" data-path="python-and-jupyter-notebooks.html"><a href="python-and-jupyter-notebooks.html#macos-and-linux"><i class="fa fa-check"></i><b>4.4.1</b> macOS and Linux</a></li>
<li class="chapter" data-level="4.4.2" data-path="python-and-jupyter-notebooks.html"><a href="python-and-jupyter-notebooks.html#windows-1"><i class="fa fa-check"></i><b>4.4.2</b> Windows</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i><b>5</b> References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Expressing Analyses Well with Literate Computing</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="r-and-rmarkdown" class="section level1">
<h1><span class="header-section-number">Topic 3</span> R and RMarkdown</h1>
<div id="about-this-chapter" class="section level2">
<h2><span class="header-section-number">3.1</span> About this chapter</h2>
<ol style="list-style-type: decimal">
<li>Questions:</li>
</ol>
<ul>
<li>How do I write a reproducible analysis document in R with RStudio?</li>
</ul>
<ol start="2" style="list-style-type: decimal">
<li>Objectives:</li>
</ol>
<ul>
<li>Learn markdown basics</li>
<li>Mix markdown and R with Rmarkdown</li>
</ul>
<ol start="3" style="list-style-type: decimal">
<li>Keypoints:</li>
</ol>
<ul>
<li>RMarkdown documents are excellent tools for creating readable, attractive and dynamic reproducible literate programming documents.</li>
</ul>
</div>
<div id="markdown" class="section level2">
<h2><span class="header-section-number">3.2</span> Markdown</h2>
<p>The process of adding annotations, like corrections or notes and comments to a physical or digital document is sometimes called ’marking it up. In processing digital documents, a language that adds tags to text to format them is called a markup language. Web pages are all written in a markup language called HTML (hypertext markup language) and it puts tags around elements to format them. Here for example is the markup for making text bold.</p>
<pre><code>I am regular text. But &lt;b&gt;I am bold!&lt;/b&gt;</code></pre>
<p>and when you put that test through a rendering program like a web browser, it shows up like this:</p>
<p>I am regular text. But <b>I am bold!</b></p>
<p>As you can see the bits in the <code>&lt;b&gt;&lt;/b&gt;</code> are formatted as per the tags surrounding them (the <code>&lt;b&gt;&lt;\b&gt;</code> tags mean bold). Markdown performs a similar job, it is a lightweight markup language (hence mark-<em>down</em>), that can do a lot of formatting, and unlike HTML still looks readable in raw text without rendering it. It is a simple base format and can easily be converted into many formats.</p>
<div id="basic-markdown-tags" class="section level3">
<h3><span class="header-section-number">3.2.1</span> Basic markdown tags</h3>
<p>Here is a selection of basic markdown tags.</p>
<pre><code>## This is a heading

Here is some regular text, this is **bold**.

### This is a different, lower level heading (Note the number of `#`)

    1. I am a member in a list
    2. I am another member in the list

Here is an image tag

![A Random Image](https://picsum.photos/200/300)</code></pre>
<p>When rendered, this is going to look like this</p>
<p><img src="fig/simple_md.png" /><!-- --></p>
<p>More markdown tags are available, hopefully these give you an idea of how markdown works. Here is a helpful ‘cheat-sheet’ with many more tags you can use, <a href="https://www.rstudio.com/wp-content/uploads/2015/02/rmarkdown-cheatsheet.pdf">RStudio RMarkdown Cheat Sheet</a>.</p>
</div>
</div>
<div id="r-markdown" class="section level2">
<h2><span class="header-section-number">3.3</span> R Markdown</h2>
<p>R Markdown is an extension of markdown with R mixed in. The markdown syntax is extended using special blocks that contain R code. When it comes to rendering time, the R is run and the results pushed into the rendered document. By mixing these together we get a tool which we can use to get a literate programmed document that can fulfil all our responsibilities.</p>
<div class="figure"><span id="fig:unnamed-chunk-4"></span>
<img src="fig/rmarkdown_wizards.png" alt="Artwork by [\@AllisonHorst](https://github.com/allisonhorst)"  />
<p class="caption">
Figure 3.1: Artwork by <a href="https://github.com/allisonhorst">@AllisonHorst</a>
</p>
</div>
<p>The R code block we mix in with our regular markdown is structured with <code>```</code> (backticks, not quotes) and <code>{r}</code>, in practice a block looks like this</p>
<p><code>```{r}</code></p>
<p><code>print("Hello, World!")</code></p>
<p><code>```</code></p>
<p>Any R code can go in the blocks, and the program remembers state between blocks so that stuff you do in earlier blocks is remembered in later ones.</p>
<div id="using-r-markdown-in-rstudio" class="section level3">
<h3><span class="header-section-number">3.3.1</span> Using R Markdown in RStudio</h3>
<p>RStudio provides a lot of tools for creating RMarkdown documents easily. To get a basic template document you can use the menu’s <code>File -&gt; New File -&gt; R Markdown</code>. On doing this you see a dialogue box, usually you want to set the options as in the figure below (you can put your name and a title in the relevant boxes )</p>
<p><img src="fig/rmd_dialogue.png" /><!-- --></p>
<p>When you do this you get a new draft document.</p>

<div class="task">
<p>Using RStudio, create a new RMarkdown document. Read it and compare it with what goes below.</p>
</div>

<div id="header-information" class="section level4">
<h4><span class="header-section-number">3.3.1.1</span> Header Information</h4>
<p>The first bit of the draft document is a bit of YAML markup that captures some information about the document. You don’t need to change anything here if you don’t want to, though it can be useful to use the information at this link to set the date automatically <a href="https://bookdown.org/yihui/rmarkdown-cookbook/update-date.html">Dates in RMarkdown</a></p>
<pre><code>---
title: &quot;My Document&quot;
author: &quot;Dan MacLean&quot;
date: &quot;20/04/2021&quot;
output: html_document
---</code></pre>
</div>
<div id="setup-block" class="section level4">
<h4><span class="header-section-number">3.3.1.2</span> Setup Block</h4>
<p>The next part is the automatically created set up block</p>
<pre><code>`` ```{r setup, include=FALSE} ``
`knitr::opts_chunk$set(echo = TRUE)`
`` ``` ``</code></pre>
<p>This is a standard R block with some options set. The first bit `<code>```{r setup,}</code> is the standard block start, but this one is named <code>setup</code>. You don’t need to name each block, but it can be helpful when bugs start to appear. The next bit <code>include=FALSE</code> is an option that tells the RMarkdown renderer <em>not</em> to include the code or it’s output in the final document, this is because this is just setup code that we don’t want messing up our nice output. Then we have the code that this block runs <code>knitr::opts_chunk$set(echo = TRUE)</code> which set up some formatting options. You can use this block for any bits of setup code that you don’t want in the rest of your document.</p>
</div>
<div id="markdown-and-r-blocks" class="section level4">
<h4><span class="header-section-number">3.3.1.3</span> Markdown and R blocks</h4>
<p>The other blocks are the document’s standard code and text blocks. Read them then perform this task</p>

<div class="task">
<p>Using RStudio, render the document using the <code>Knit</code> button at the top of the editor pane.</p>
</div>

<p>Note how the code and results, including plots are mixed in the resulting document.</p>

<div class="task">
<p>Make some text edits and change the plot titles, then re-knit the document.</p>
</div>

</div>
</div>
<div id="conclusion" class="section level3">
<h3><span class="header-section-number">3.3.2</span> Conclusion</h3>
<p>This all there really is to RMarkdown documents, they are a very easy to use tool for keeping your analyses readable and reproducible. Inspect the cheat sheet a little further for tips on what more you can do in RMarkdown, <a href="https://www.rstudio.com/wp-content/uploads/2015/02/rmarkdown-cheatsheet.pdf">RStudio RMarkdown Cheat Sheet</a>.</p>

<div class="roundup">
<pre><code>* RMarkdown documents are excellent tools for creating readable, attractive and dynamic reproducible literate programming documents.</code></pre>
</div>


</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="motivation.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="python-and-jupyter-notebooks.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rstudio/bookdown-demo/edit/master/02-r-markdown.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
